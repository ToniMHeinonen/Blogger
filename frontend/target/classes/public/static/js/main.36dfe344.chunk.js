(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{16:function(e,t,n){},21:function(e,t,n){e.exports=n(34)},26:function(e,t,n){},27:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(18),o=n.n(r);n(26),n(27),n(16);var c=function(e){return l.a.createElement("div",null,l.a.createElement("h2",null,e.topic),l.a.createElement("h3",null,e.creationDate),l.a.createElement("p",null,e.text),l.a.createElement("button",null,"Edit"),l.a.createElement("button",{onClick:function(t){fetch("/blogposts/"+e.id,{method:"DELETE"}).then(window.location.reload())}},"Delete"))};var i=function(e){for(var t=[],n=0;n<e.amount;n++)t.push(l.a.createElement(c,{key:e.allBlogPosts[n].id,id:e.allBlogPosts[n].id,topic:e.allBlogPosts[n].topic,creationDate:e.allBlogPosts[n].creationDate,text:e.allBlogPosts[n].text}));return l.a.createElement("div",null,t)},u=n(7),s=n.n(u),m=n(11),p=n(8),d=n(5);var E=function(){var e=l.a.useState(!1),t=Object(p.a)(e,2),n=t[0],a=t[1],r=l.a.useState(!1),o=Object(p.a)(r,2),c=o[0],i=o[1],u=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,l,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t.preventDefault(),n=new FormData(t.target),l={topic:n.get("topic"),text:n.get("blogi")},r={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(l)},e.next=7,fetch("/blogposts/",r);case 7:a(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?l.a.createElement(d.a,{push:!0,to:"/"}):l.a.createElement("form",{onSubmit:u},l.a.createElement("label",null,"Topic:",l.a.createElement("br",null),l.a.createElement("input",{id:"topic",name:"topic",type:"text"})),l.a.createElement("br",null),l.a.createElement("br",null),"Your story:",l.a.createElement("br",null),l.a.createElement("textarea",{id:"blogi",name:"blogi",type:"text"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{disabled:c},"Send"))};var f=function(){var e=l.a.useState([]),t=Object(p.a)(e,2),n=t[0],a=t[1],r=l.a.useState(!1),o=Object(p.a)(r,2),c=o[0],u=o[1];function d(){return(d=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,fetch("/blogposts/");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n),u(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.useEffect((function(){!function(){d.apply(this,arguments)}()}),[]),l.a.createElement("div",null,c?"Loading...":l.a.createElement(i,{allBlogPosts:n,amount:n.length}))},b=n(10);var h=function(){return l.a.createElement(b.a,null,l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(b.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(b.b,{to:"/addPost"},"Add new post")))),l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/addPost"},l.a.createElement(E,null)),l.a.createElement(d.b,{path:"/"},l.a.createElement(f,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.36dfe344.chunk.js.map